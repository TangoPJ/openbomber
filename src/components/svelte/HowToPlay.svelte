<script lang="ts">
  import achivmentSrc from "images/Bonus/Ikonki.png";
  import { createEventDispatcher } from "svelte";
  import Button from "./Button.svelte";
  import {
    ACHIVMEN_DESCRIPTION,
    ACHIVMEN_POINTS,
    EAchivment,
  } from "@shared/types";
  import Frame from "./Frame.svelte";
  import { MAX_PLAYERS } from "@shared/config";
  import { EXTERNAL_LINKS } from "config";
  import Link from "./Link.svelte";

  const boosts = [...Object.entries(ACHIVMEN_DESCRIPTION)].map(
    ([key, value]) => ({
      key: +key as EAchivment,
      value,
      frame: ACHIVMEN_POINTS[+key as EAchivment],
    })
  );

  const dispatch = createEventDispatcher<{ submit: void }>();
</script>

<div class="scroll">
  <h2>–ü—Ä–∏–≤–µ—Ç =)</h2>
  <div>
    <h3>–ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º</h3>
    <ul>
      <li><strong>–í–´–†–£–ë–ê–ô –≠–ö–û–ù–û–ú–ò–Æ –ó–ê–†–Ø–î–ê!!!</strong></li>
    </ul>
    <h3>–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º</h3>
    <ul>
      <li>–ü—Ä–∏–≥–ª–∞—à–∞–π –¥—Ä—É–∑–µ–π –∏ –≤–µ—Å–µ–ª–∏—Å—å üòÅ</li>
      <li>–°–ª–µ–≤–∞ —Å–∞–π–¥–±–∞—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ üïπÔ∏è</li>
      <li>–°–ø—Ä–∞–≤–∞ —á–∞—Ç–∏–∫ üí¨</li>
      <li>–ú–∞–∫—Å–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤: <b>{MAX_PLAYERS}</b></li>
      <li>–í–≤–µ—Ä—Ö—É —Å—Ç–∞—Ç—É—Å –±–∞—Ä –ø–∞–Ω–µ–ª—å</li>
      <li>–í–Ω–∏–∑—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º</li>
    </ul>
    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
    <p>–ù–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ:</p>
    <ul>
      <li>—Ö–æ–¥–∏—Ç—å <b>WASD</b> –∏–ª–∏ <b>–°—Ç—Ä–µ–ª–æ—á–∫–∏</b></li>
      <li>–±–æ–º–±–∞ <b>–ü—Ä–æ–±–µ–ª</b> –∏–ª–∏ <b>Enter</b></li>
    </ul>
    <p>–ù–∞ –≥–µ–π–º–ø–∞–¥–µ:</p>
    <ul>
      <li>—Ö–æ–¥–∏—Ç—å <b>axis(0-1)</b></li>
      <li>–±–æ–º–±–∞ <b>btn(0)</b></li>
    </ul>
    <p>–ù–∞ —Ç–∞—á—Å–∫—Ä–∏–Ω–µ:</p>
    <ul>
      <li>—Ö–æ–¥–∏—Ç—å <b>–ø–æ—è–≤–∏—Ç—å—Å—è –¥–∂–æ–π—Å—Ç–∏–∫</b></li>
      <li>–±–æ–º–±–∞ <b>–∫–Ω–æ–ø–æ—á–∫–∞ —Å–ø—Ä–∞–≤–∞</b></li>
    </ul>
    <h3>–¶–µ–ª—å –∏–≥—Ä—ã</h3>
    <ul>
      <li>–£–±–∏—Ç—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–≤</li>
      <li>–ù–µ —É–º–µ—Ä–µ—Ç—å</li>
    </ul>
    <h3>–û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–∫—Ç–∏–∫–∞</h3>
    <ul>
      <li>–ù–∞—á–∏–Ω–∞–π –≤–∑—Ä—ã–≤–∞—Ç—å –∫–∏—Ä–ø–∏—á–∏</li>
      <li>–°–æ–±–∏—Ä–∞–π –±—É—Å—Ç—ã</li>
      <li>–õ–æ–≤–∏ –∏–≥—Ä–æ–∫–æ–≤ –≤ –ª–æ–≤—É—à–∫–∏</li>
    </ul>
    <h3>–ë—É—Å—Ç—ã</h3>
    <ul>
      {#each boosts as { key, frame, value }}
        <li>
          <Frame src={achivmentSrc} {frame} s={0.8} padding={16} />
          <small>{value}</small>
        </li>
      {/each}
    </ul>

    <h3>–°—Å—ã–ª–∫–∏</h3>
    <ul>
      {#each EXTERNAL_LINKS as { href, name }}
        <li>
          <Link url={href}>{name}</Link>
        </li>
      {/each}
    </ul>
  </div>
  <Button on:click={() => dispatch("submit")}>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</Button>
</div>

<style lang="scss">
  .scroll {
    display: flex;
    flex-direction: column;
    overflow-y: scroll;
    gap: 10px;
    max-height: calc(100vh - 50px);
    position: relative;
  }
  h2,
  h3,
  p {
    margin: 0;
    padding: 0;
  }
  h3 {
    font-size: 16px;
    margin-top: 10px;
    margin-bottom: 8px;
  }
  ul {
    margin-bottom: 20px;
  }
  p {
    font-size: 14px;
    font-weight: normal;
    color: #999;
  }
  strong {
    color: red;
  }
  li {
    margin: 5px 0px;
    font-size: 12px;
    color: #999;
    display: flex;
    gap: 10px;
    align-items: center;
    height: 20px;
    &::before {
      content: "#";
      color: #333;
    }
  }
  b {
    color: #fff;
  }
</style>
